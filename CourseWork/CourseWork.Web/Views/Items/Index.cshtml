@model CourseWork.Web.Models.Items.ItemsViewModel
@using Microsoft.AspNetCore.Mvc.Localization

@inject IViewLocalizer Localizer

<div>
    <div class="row">
        <div class="col-6">@await Html.PartialAsync("_ItemSearch")</div>
        <div class="col-6"><a class="btn btn-primary" asp-controller="Items" asp-action="Create" asp-route-collectionId="@Model.CollectionId">@Localizer["Create"]</a></div>
    </div>
    <div class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="collapse navbar-collapse">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item m-1">@Localizer["Fields"]</li>
                @foreach (var field in Model.Fields)
                {
                    <li class="nav-item m-1">@Html.DisplayFor(view => field)</li>
                }
            </ul>
        </div>
    </div>
    <table class="table">
        @foreach (var item in Model.Items)
        {
            <tr>
                <td>@Html.DisplayFor(view => item.Name)</td>
                <td>
                    <a class="btn btn-primary" asp-controller="Item" asp-action="Index" asp-route-itemId="@item.Id">@Localizer["Select"]</a>
                    <a class="btn btn-danger" asp-controller="Items" asp-action="DeleteItem" asp-route-itemId="@item.Id" asp-route-returnUrl="@Context.Request.Path">@Localizer["Delete"]</a>
                </td>
            </tr>
        }
    </table>
</div>
